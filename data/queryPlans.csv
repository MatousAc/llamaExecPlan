query,execPlan
select * from student s join attendance a on s.studentID = a.studentID where s.race = 'Black or African American';,"# 1: Clustered Index Scan((attendance AS a),  WHERE:(PROBE(attendanceDB.dbo.attendance.studentID as a.studentID)))\n# 2: Clustered Index Scan((student AS s),  WHERE:(attendanceDB.dbo.student.race as s.race='Black or African American'))\n# 3: Hash Match(Inner Join, HASH:(s.studentID)=(a.studentID))"
"select s.isFemale, s.isHispanic, s.raceCode, st.housingCode, st.gradeLvl, st.credits, st.tensOfHoursWorked, a.distanceToFront, a.seatColumn, a.statusCode, sn.finalGradeCode, sn.finalGrade from attendance a join student s on a.studentID = s.studentID  join studentTerm st on s.studentID = st.studentID join studentSection sn on s.studentID = sn.studentID and sn.termID = st.termID join section n on sn.sectionID = n.sectionID join event e on n.sectionID = e.sectionID and e.eventID = a.eventID join course c on n.courseID = c.courseID where c.departmentID != 'NRSG' and c.departmentID != 'PEAC';","# 1: Clustered Index Scan((attendance AS a),  WHERE:(PROBE(attendanceDB.dbo.attendance.eventID as a.eventID)))\n# 2: Clustered Index Scan((event AS e),  WHERE:(PROBE(attendanceDB.dbo.event.sectionID as e.sectionID)))\n# 3: Clustered Index Scan(section AS n)\n# 4: Clustered Index Scan((course AS c),  WHERE:(attendanceDB.dbo.course.departmentID as c.departmentID<>'NRSG' AND attendanceDB.dbo.course.departmentID as c.departmentID<>'PEAC'))\n# 5: Hash Match(Inner Join, HASH:(c.courseID)=(n.courseID))\n# 6: Hash Match(Inner Join, HASH:(n.sectionID)=(e.sectionID))\n# 7: Hash Match(Inner Join, HASH:(e.eventID)=(a.eventID))\n# 8: Filter(WHERE:(PROBE(attendanceDB.dbo.event.sectionID as e.sectionID,attendanceDB.dbo.attendance.studentID as a.studentID)))\n# 9: Clustered Index Scan(studentSection AS sn)\n# 10: Hash Match(Inner Join, HASH:(sn.sectionID, sn.studentID)=(e.sectionID, a.studentID))\n# 11: Clustered Index Scan(studentTerm AS st)\n# 12: Hash Match(Inner Join, HASH:(st.studentID, st.termID)=(sn.studentID, sn.termID), RESIDUAL:(attendanceDB.dbo.studentTerm.studentID as st.studentID=attendanceDB.dbo.studentSection.studentID as sn.studentID AND attendanceDB.dbo.studentSection.termID as sn.termID=attendanceDB.dbo.studentTerm.termID as st.termID))\n# 13: Clustered Index Scan(student AS s)\n# 14: Hash Match(Inner Join, HASH:(s.studentID)=(sn.studentID))"
select distinct t.startDate from term t join studentSection ss on t.termID = ss.termID where noAttenceFlag = 'False';,"# 1: Clustered Index Seek((term AS t), SEEK:(t.termID=attendanceDB.dbo.studentSection.termID as ss.termID) ORDERED FORWARD)\n# 2: Clustered Index Scan((studentSection AS ss), WHERE:(attendanceDB.dbo.studentSection.noAttenceFlag as ss.noAttenceFlag='False'))\n# 3: Hash Match(Aggregate, HASH:(ss.termID), RESIDUAL:(attendanceDB.dbo.studentSection.termID as ss.termID = attendanceDB.dbo.studentSection.termID as ss.termID))\n# 4: Nested Loops(Inner Join, OUTER REFERENCES:(ss.termID))\n# 5: Sort(DISTINCT ORDER BY:(t.startDate ASC))"
"select s.gender, s.raceCode, s.standardTestScore from student s join studentSection ss on s.studentID = ss.studentID where ss.midtermGrade = 'F' and ss.finalGrade = 'A';","# 1: Clustered Index Scan((studentSection AS ss), WHERE:(attendanceDB.dbo.studentSection.midtermGrade as ss.midtermGrade='F' AND attendanceDB.dbo.studentSection.finalGrade as ss.finalGrade='A'))\n# 2: Sort(ORDER BY:(ss.studentID ASC))\n# 3: Clustered Index Scan((student AS s), ORDERED FORWARD)\n# 4: Merge Join(Inner Join, MERGE:(s.studentID)=(ss.studentID), RESIDUAL:(attendanceDB.dbo.studentSection.studentID as ss.studentID=attendanceDB.dbo.student.studentID as s.studentID))"
"select s.gender, s.raceCode, s.standardTestScore from student s join studentSection ss on s.studentID = ss.studentID where ss.midtermGrade = 'D' and ss.finalGrade = 'B';","# 1: Clustered Index Scan((studentSection AS ss), WHERE:(attendanceDB.dbo.studentSection.midtermGrade as ss.midtermGrade='D' AND attendanceDB.dbo.studentSection.finalGrade as ss.finalGrade='B'))\n# 2: Sort(ORDER BY:(ss.studentID ASC))\n# 3: Clustered Index Scan((student AS s), ORDERED FORWARD)\n# 4: Merge Join(Inner Join, MERGE:(s.studentID)=(ss.studentID), RESIDUAL:(attendanceDB.dbo.studentSection.studentID as ss.studentID=attendanceDB.dbo.student.studentID as s.studentID))"
select * from department;,# 1: Clustered Index Scan(department)
select p.professorName from professor p join section s on p.professorID = s.professorID join course c on s.courseID = c.courseID join department d on c.departmentID = d.departmentID where d.departmentName = 'Computing' or d.departmentName = 'Physics';,"# 1: Clustered Index Seek((professor AS p), SEEK:(p.professorID=attendanceDB.dbo.section.professorID as s.professorID) ORDERED FORWARD)\n# 2: Clustered Index Scan(section AS s)\n# 3: Clustered Index Seek((department AS d), SEEK:(d.departmentID=attendanceDB.dbo.course.departmentID as c.departmentID),  WHERE:(attendanceDB.dbo.department.departmentName as d.departmentName='Computing' OR attendanceDB.dbo.department.departmentName as d.departmentName='Physics') ORDERED FORWARD)\n# 4: Clustered Index Scan(course AS c)\n# 5: Nested Loops(Inner Join, OUTER REFERENCES:(c.departmentID))\n# 6: Hash Match(Inner Join, HASH:(c.courseID)=(s.courseID))\n# 7: Nested Loops(Inner Join, OUTER REFERENCES:(s.professorID))"
select avg(c.credits) as 'creditAverage' from course c;,"# 1: Clustered Index Scan(course AS c)\n# 2: Stream Aggregate(DEFINE:(Expr1002=Count(*), Expr1003=SUM(attendanceDB.dbo.course.credits as c.credits)))\n# 3: Compute Scalar(DEFINE:(Expr1001=CASE WHEN Expr1002=(0) THEN NULL ELSE Expr1003/CONVERT_IMPLICIT(int,Expr1002,0) END))"
"select d.departmentName, avg(c.credits) as 'creditAverage' from course c join department d on c.departmentID = d.departmentID group by d.departmentName;","# 1: Clustered Index Scan(course AS c)\n# 2: Clustered Index Scan(department AS d)\n# 3: Sort(ORDER BY:(d.departmentName ASC))\n# 4: Nested Loops(Inner Join, WHERE:(attendanceDB.dbo.department.departmentID as d.departmentID=attendanceDB.dbo.course.departmentID as c.departmentID))\n# 5: Stream Aggregate(GROUP BY:(d.departmentName) DEFINE:(Expr1007=Count(*), Expr1008=SUM(attendanceDB.dbo.course.credits as c.credits)))\n# 6: Compute Scalar(DEFINE:(Expr1002=CASE WHEN Expr1007=(0) THEN NULL ELSE Expr1008/CONVERT_IMPLICIT(int,Expr1007,0) END))"
select avg(c.credits) as 'creditAverage' from section se join course c on se.courseID = c.courseID;,"# 1: Clustered Index Scan(section AS se)\n# 2: Sort(ORDER BY:(se.courseID ASC))\n# 3: Clustered Index Scan((course AS c), ORDERED FORWARD)\n# 4: Merge Join(Inner Join, MERGE:(c.courseID)=(se.courseID), RESIDUAL:(attendanceDB.dbo.course.courseID as c.courseID=attendanceDB.dbo.section.courseID as se.courseID))\n# 5: Stream Aggregate(DEFINE:(Expr1007=Count(*), Expr1008=SUM(attendanceDB.dbo.course.credits as c.credits)))\n# 6: Compute Scalar(DEFINE:(Expr1002=CASE WHEN Expr1007=(0) THEN NULL ELSE Expr1008/CONVERT_IMPLICIT(int,Expr1007,0) END))"
"select building, roomNumber from room;",# 1: Clustered Index Scan(room)
"select p.professorName, r.roomNumber from professor p join section se on p.professorID = se.professorID join room r on se.roomID = r.roomID where r.building = 'Hickman Science Center';","# 1: Clustered Index Seek((professor AS p), SEEK:(p.professorID=attendanceDB.dbo.section.professorID as se.professorID) ORDERED FORWARD)\n# 2: Clustered Index Scan(section AS se)\n# 3: Clustered Index Scan((room AS r), WHERE:(attendanceDB.dbo.room.building as r.building='Hickman Science Center'))\n# 4: Hash Match(Inner Join, HASH:(r.roomID)=(se.roomID), RESIDUAL:(attendanceDB.dbo.room.roomID as r.roomID=attendanceDB.dbo.section.roomID as se.roomID))\n# 5: Nested Loops(Inner Join, OUTER REFERENCES:(se.professorID))"
"select p.professorName, r.building, count(r.roomNumber) as 'numberOfRooms' from professor p join section se on p.professorID = se.professorID join room r on se.roomID = r.roomID group by r.building, p.professorName;","# 1: Clustered Index Scan(section AS se)\n# 2: Clustered Index Scan(room AS r)\n# 3: Hash Match(Inner Join, HASH:(r.roomID)=(se.roomID), RESIDUAL:(attendanceDB.dbo.room.roomID as r.roomID=attendanceDB.dbo.section.roomID as se.roomID))\n# 4: Clustered Index Scan(professor AS p)\n# 5: Hash Match(Inner Join, HASH:(p.professorID)=(se.professorID))\n# 6: Sort(ORDER BY:(p.professorName ASC, r.building ASC))\n# 7: Stream Aggregate(GROUP BY:(p.professorName, r.building) DEFINE:(Expr1004=Count(*)))\n# 8: Compute Scalar(DEFINE:(Expr1003=CONVERT_IMPLICIT(int,Expr1004,0)))"
"select top 5 p.professorName, concat(c.courseCode, '-', se.sectionLetter), avg(sse.finalGradeCode) as 'classGrade' from professor p join section se on p.professorID = se.professorID join studentSection sse on se.sectionID = sse.sectionID join course c on se.courseID = c.courseID group by p.professorName, se.sectionLetter, c.courseCode order by avg(sse.finalGradeCode) asc;","# 1: Clustered Index Scan(studentSection AS sse)\n# 2: Clustered Index Scan(section AS se)\n# 3: Clustered Index Scan(professor AS p)\n# 4: Hash Match(Inner Join, HASH:(p.professorID)=(se.professorID))\n# 5: Clustered Index Scan(course AS c)\n# 6: Hash Match(Inner Join, HASH:(c.courseID)=(se.courseID))\n# 7: Hash Match(Inner Join, HASH:(se.sectionID)=(sse.sectionID))\n# 8: Hash Match(Aggregate, HASH:(p.professorName, se.sectionLetter, c.courseCode), Expr1007=SUM(attendanceDB.dbo.studentSection.finalGradeCode as sse.finalGradeCode)))\n# 9: Compute Scalar(DEFINE:(Expr1004=CASE WHEN Expr1006=(0) THEN NULL ELSE Expr1007/CONVERT_IMPLICIT(int,Expr1006,0) END))\n# 10: Sort(TOP 5, ORDER BY:(Expr1004 ASC))\n# 11: Compute Scalar(DEFINE:(Expr1005=concat(attendanceDB.dbo.course.courseCode as c.courseCode,'-',attendanceDB.dbo.section.sectionLetter as se.sectionLetter)))"
"select top 5 p.professorName, concat(c.courseCode, '-', se.sectionLetter), avg(sse.finalGradeCode) as 'classGrade' from professor p join section se on p.professorID = se.professorID join studentSection sse on se.sectionID = sse.sectionID join course c on se.courseID = c.courseID group by p.professorName, se.sectionLetter, c.courseCode order by avg(sse.finalGradeCode) desc;","# 1: Clustered Index Scan(studentSection AS sse)\n# 2: Clustered Index Scan(section AS se)\n# 3: Clustered Index Scan(professor AS p)\n# 4: Hash Match(Inner Join, HASH:(p.professorID)=(se.professorID))\n# 5: Clustered Index Scan(course AS c)\n# 6: Hash Match(Inner Join, HASH:(c.courseID)=(se.courseID))\n# 7: Hash Match(Inner Join, HASH:(se.sectionID)=(sse.sectionID))\n# 8: Hash Match(Aggregate, HASH:(p.professorName, se.sectionLetter, c.courseCode), Expr1007=SUM(attendanceDB.dbo.studentSection.finalGradeCode as sse.finalGradeCode)))\n# 9: Compute Scalar(DEFINE:(Expr1004=CASE WHEN Expr1006=(0) THEN NULL ELSE Expr1007/CONVERT_IMPLICIT(int,Expr1006,0) END))\n# 10: Sort(TOP 5, ORDER BY:(Expr1004 DESC))\n# 11: Compute Scalar(DEFINE:(Expr1005=concat(attendanceDB.dbo.course.courseCode as c.courseCode,'-',attendanceDB.dbo.section.sectionLetter as se.sectionLetter)))"
"select p.professorName, avg(sse.finalGradeCode) as 'avgGrade' from professor p join section se on p.professorID = se.professorID join studentSection sse on se.sectionID = sse.sectionID group by p.professorName;","# 1: Clustered Index Scan(studentSection AS sse)\n# 2: Clustered Index Scan(section AS se)\n# 3: Clustered Index Scan(professor AS p)\n# 4: Hash Match(Inner Join, HASH:(p.professorID)=(se.professorID))\n# 5: Hash Match(Inner Join, HASH:(se.sectionID)=(sse.sectionID))\n# 6: Hash Match(Aggregate, HASH:(p.professorName), Expr1005=SUM(attendanceDB.dbo.studentSection.finalGradeCode as sse.finalGradeCode)))\n# 7: Compute Scalar(DEFINE:(Expr1003=CASE WHEN Expr1004=(0) THEN NULL ELSE Expr1005/CONVERT_IMPLICIT(int,Expr1004,0) END))"
